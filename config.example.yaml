ad:
  enabled: true  # Set to false to disable LDAP/AD authentication completely
  ldap_url: "ldap://ad.example.com:389"
  bind_dn: "CN=service-account,OU=ServiceAccounts,DC=example,DC=com"
  bind_password: "your-service-account-password"
  base_dn: "DC=example,DC=com"
  allowed_groups:
    - "CN=AI-Users,OU=Groups,DC=example,DC=com"
    - "CN=Developers,OU=Groups,DC=example,DC=com"
  # Paths that can be accessed without authentication (when AD is enabled)
  # Supports exact match, prefix with trailing slash, or wildcard with /*
  public_paths:
    # - "/ollama/*"      # All paths under /ollama/ are public
    # - "/health"        # Exact match for /health endpoint

backends:
  ollama_servers:
    - "http://ollama1.example.com:11434"
    - "http://ollama2.example.com:11434"
    - "http://ollama3.example.com:11434"
  vllm_servers:
    - "http://vllm1.example.com:8000"
    - "http://vllm2.example.com:8000"
  openai_endpoint: "https://api.openai.com/v1"
  openai_api_key: "sk-your-openai-api-key-here"

https:
  # Option 1: Use LetsEncrypt autocert (domain and cache_dir required)
  domain: "aiconnect.example.com"
  cache_dir: "/var/cache/aiconnect/autocert"
  port: 443
  # Option 2: Use custom SSL certificates (cert_file and key_file)
  # When both cert_file and key_file are provided, autocert is disabled
  # cert_file: "/etc/ssl/certs/aiconnect.crt"
  # key_file: "/etc/ssl/private/aiconnect.key"

monitoring:
  health_check_interval: 30  # secondi
  metrics_port: 9090

logging:
  level: "info"  # debug, info, warn, error
  format: "json"  # json o text

# mDNS configuration for MatePro compatibility
# Note: When mdns.discovery_enabled is true, discovered nodes will supplement
# the statically configured backends above. Both static and discovered backends
# will be used for routing and load balancing unless otherwise specified.
mdns:
  enabled: true                      # Enable mDNS advertisement of AIConnect
  service_name: "AIConnect Orchestrator"
  version: "1.0.0"
  capabilities: "ollama,vllm,openai"
  discovery_enabled: true            # Enable auto-discovery of LLM backends
  discovery_interval: 30             # Seconds between discovery scans
  discovery_timeout: 5               # Timeout for each discovery scan
  service_types:                     # mDNS service types to discover
    - "_ollama._tcp"
    - "_openai._tcp"
    - "_vllm._tcp"
